<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.6.1 -->
<title>Building an image classifier | Abhishek Bharani ML Blog</title>
<meta name="generator" content="Jekyll v4.0.0" />
<meta property="og:title" content="Building an image classifier" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Lesson 2 notes from fastai course." />
<meta property="og:description" content="Lesson 2 notes from fastai course." />
<link rel="canonical" href="https://bharaniabhishek123.github.io/ml-journey/markdown/2020/04/03/Lesson2-Notes.html" />
<meta property="og:url" content="https://bharaniabhishek123.github.io/ml-journey/markdown/2020/04/03/Lesson2-Notes.html" />
<meta property="og:site_name" content="Abhishek Bharani ML Blog" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2020-04-03T00:00:00-05:00" />
<script type="application/ld+json">
{"datePublished":"2020-04-03T00:00:00-05:00","dateModified":"2020-04-03T00:00:00-05:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://bharaniabhishek123.github.io/ml-journey/markdown/2020/04/03/Lesson2-Notes.html"},"description":"Lesson 2 notes from fastai course.","@type":"BlogPosting","url":"https://bharaniabhishek123.github.io/ml-journey/markdown/2020/04/03/Lesson2-Notes.html","headline":"Building an image classifier","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/ml-journey/assets/css/style.css"><link type="application/atom+xml" rel="alternate" href="https://bharaniabhishek123.github.io/ml-journey/feed.xml" title="Abhishek Bharani ML Blog" /><link rel="shortcut icon" type="image/x-icon" href="/ml-journey/images/favicon.ico"><!-- Begin Jekyll SEO tag v2.6.1 -->
<title>Building an image classifier | Abhishek Bharani ML Blog</title>
<meta name="generator" content="Jekyll v4.0.0" />
<meta property="og:title" content="Building an image classifier" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Lesson 2 notes from fastai course." />
<meta property="og:description" content="Lesson 2 notes from fastai course." />
<link rel="canonical" href="https://bharaniabhishek123.github.io/ml-journey/markdown/2020/04/03/Lesson2-Notes.html" />
<meta property="og:url" content="https://bharaniabhishek123.github.io/ml-journey/markdown/2020/04/03/Lesson2-Notes.html" />
<meta property="og:site_name" content="Abhishek Bharani ML Blog" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2020-04-03T00:00:00-05:00" />
<script type="application/ld+json">
{"datePublished":"2020-04-03T00:00:00-05:00","dateModified":"2020-04-03T00:00:00-05:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://bharaniabhishek123.github.io/ml-journey/markdown/2020/04/03/Lesson2-Notes.html"},"description":"Lesson 2 notes from fastai course.","@type":"BlogPosting","url":"https://bharaniabhishek123.github.io/ml-journey/markdown/2020/04/03/Lesson2-Notes.html","headline":"Building an image classifier","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->

<link href="https://unpkg.com/@primer/css/dist/primer.css" rel="stylesheet" />
<link rel="stylesheet" href="//use.fontawesome.com/releases/v5.0.7/css/all.css"><link type="application/atom+xml" rel="alternate" href="https://bharaniabhishek123.github.io/ml-journey/feed.xml" title="Abhishek Bharani ML Blog" />

<script>
function wrap_img(fn) {
    if (document.attachEvent ? document.readyState === "complete" : document.readyState !== "loading") {
        var elements = document.querySelectorAll(".post img");
        Array.prototype.forEach.call(elements, function(el, i) {
            if (el.getAttribute("title")) {
                const caption = document.createElement('figcaption');
                var node = document.createTextNode(el.getAttribute("title"));
                caption.appendChild(node);
                const wrapper = document.createElement('figure');
                wrapper.className = 'image';
                el.parentNode.insertBefore(wrapper, el);
                el.parentNode.removeChild(el);
                wrapper.appendChild(el);
                wrapper.appendChild(caption);
            }
        });
    } else { document.addEventListener('DOMContentLoaded', fn); }
}
window.onload = wrap_img;
</script>

<script>
    document.addEventListener("DOMContentLoaded", function(){
    // add link icon to anchor tags
    var elem = document.querySelectorAll(".anchor-link")
    elem.forEach(e => (e.innerHTML = '<i class="fas fa-link fa-xs"></i>'));
    });
</script>
</head><body><header class="site-header">

  <div class="wrapper"><a class="site-title" rel="author" href="/ml-journey/">Abhishek Bharani ML Blog</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger"><a class="page-link" href="/ml-journey/about/">About Me</a><a class="page-link" href="/ml-journey/search/">Search</a><a class="page-link" href="/ml-journey/categories/">Tags</a></div>
      </nav></div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">Building an image classifier</h1><p class="page-description">Lesson 2 notes from fastai course.</p><p class="post-meta post-meta-title"><time class="dt-published" datetime="2020-04-03T00:00:00-05:00" itemprop="datePublished">
        Apr 3, 2020
      </time>
       â€¢ <span class="read-time" title="Estimated read time">
    
    
      1 min read
    
</span></p>

    
      <p class="category-tags"><i class="fas fa-tags category-tags-icon"></i></i> 
      
        <a class="category-tags-link" href="/ml-journey/categories/#markdown">markdown</a>
        
      
      </p>
    

    </header>

  <div class="post-content e-content" itemprop="articleBody">
    <ul class="section-nav">
<li class="toc-entry toc-h2"><a href="#datablock-api">DataBlock api</a></li>
<li class="toc-entry toc-h2"><a href="#useful-methods-or-class-used-in-the-lesson-2">Useful methods or class used in the lesson 2</a></li>
</ul><h2 id="datablock-api">
<a class="anchor" href="#datablock-api" aria-hidden="true"><span class="octicon octicon-link"></span></a>DataBlock api</h2>
<ul>
  <li>container which build datasets and dataloaders</li>
  <li>expects to have 4 items passed as an positional parameters :
    <ul>
      <li>blocks (type of data)</li>
      <li>get_items</li>
      <li>splitter</li>
      <li>get_y</li>
      <li>item_tfms</li>
    </ul>
  </li>
  <li>once DataBlock object is created, we can call dataloaders on each path.</li>
</ul>

<h2 id="useful-methods-or-class-used-in-the-lesson-2">
<a class="anchor" href="#useful-methods-or-class-used-in-the-lesson-2" aria-hidden="true"><span class="octicon octicon-link"></span></a>Useful methods or class used in the lesson 2</h2>
<ul>
  <li>search_images_bing :</li>
  <li>TransformBlock : A basic wrapper that links default transforms for datablock api.</li>
</ul>
<newline>    TransformBlock(type_tfms=None,item_tfms=None,batch_tfms=None,dl_type=None,dls_kwargs=None)
- ImageBlock  : TransformBlock` for images of `cls = PILImage' 
- CategoryBlock : TransformBlock` for single-label categorical targets
- DataBlock : Generic Contrainer to build Datasets and DataLoaders
<newline> DataBlock(blocks=None, dl_type=None, getters=None, n_inp=None, item_tfms=None, batch_tfms=None, get_items=None, splitter=None, get_y=None, get_x=None)
- DataBlock has dataloaders class, dls.items = gives list of all elements.
- aug_transforms : utility functions to create flip, zoom, rotate transforms.
- ClassificationInterpretation : Sub-class of Interpretation, used for interpretation of classification models.
- ImageClassifierCleaner : picks the one which the model is least confident about.

Open Questions 
1. What was the reason behind creation of class L . If it is only behaving like list of items.

2. how many augmented images are created by function batch_tfms=aug_transforms. 

3. After randomly splitting dev and train set. I did ImageClassifierCleaner on my cnn_learner and validation set had a white bear marked as black.
   My question is we need to clean, validation set as well ? Although we are not training our model on validation set but since loss is computed on validation set. How big will be the impact if we don't curate our validation set correctly. 

## Different resizing of images and data augmentation
1. default is cropping and center of the image.
2. Squish gives more detail
3. RandomResizedCrop different part of image are zoomed. basically squished in different ways.
4. aug_transform returns list of different augmentation. This are batch_tfms and happens on gpu. Fastai enables to run this on gpu.
</newline></newline>

  </div><a class="u-url" href="/ml-journey/markdown/2020/04/03/Lesson2-Notes.html" hidden></a>
</article>
      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/ml-journey/"></data>

  <div class="wrapper">

    <div class="footer-col-wrapper">
      <div class="footer-col">
        <p class="feed-subscribe">
          <a href="/ml-journey/feed.xml">
            <svg class="svg-icon orange">
              <use xlink:href="/ml-journey/assets/minima-social-icons.svg#rss"></use>
            </svg><span>Subscribe</span>
          </a>
        </p>
      </div>
      <div class="footer-col">
        <p>This blog uses fastai/fastpages to an easy to use blogging platform with support for Jupyter Notebooks.</p>
      </div>
    </div>

    <div class="social-links"><ul class="social-media-list"><li><a rel="me" href="https://github.com/bharaniabhishek123" title="bharaniabhishek123"><svg class="svg-icon grey"><use xlink:href="/ml-journey/assets/minima-social-icons.svg#github"></use></svg></a></li><li><a rel="me" href="https://twitter.com/bharaniabhishek" title="bharaniabhishek"><svg class="svg-icon grey"><use xlink:href="/ml-journey/assets/minima-social-icons.svg#twitter"></use></svg></a></li></ul>
</div>

  </div>

</footer>
</body>

</html>
